(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1087:function(t,e,n){t.exports=n.p+"img/EOS-logo.244ceb6.svg"},1103:function(t,e,n){t.exports=n.p+"img/BSC-logo.187534e.svg"},1121:function(t,e,n){var content=n(1172);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(60).default)("cfc05aea",content,!0,{sourceMap:!1})},1171:function(t,e,n){"use strict";n(1121)},1172:function(t,e,n){var c=n(59)(!1);c.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap);"]),c.push([t.i,".blockchain-address[data-v-9ee0d85e]{white-space:unset}",""]),t.exports=c},1308:function(t,e,n){"use strict";n.r(e);var c=n(2),o=(n(27),n(14),n(126),n(255),n(90),n(356)),r={filters:{hide:function(t,e){return e?t:null===(n=(t=t.toString()).split(""))||void 0===n?void 0:n.map((function(t){return"•","•"})).join("");var n}},layout:"box",middleware:["auth"],auth:"guest",data:function(){return{existingAccount:null,error:null,loadingLogin:!1,loading:!1,showPK:!1}},watch:{"$blockchain.account":function(t){this.existingAccount=null,t&&this.accountExists()}},created:function(){this.rememberLogin()},methods:{connectToBurnerWallet:function(t){this.$root.$emit("selectBurnerWallet",t),this.$blockchain.burnerWallet=!1},rememberLogin:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.$blockchain.rememberLogin();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("rememberLogin",e.t0);case 9:t.loading=!1;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))()},login:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,path;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loadingLogin=!0,t.$blockchain.account){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,t.$blockchain.connectAccount();case 6:return e.next=8,o(Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$auth.loginWith("blockchain",{account:t.$blockchain.account,$blockchain:t.$blockchain});case 2:case"end":return e.stop()}}),e)}))),{retries:5,onRetry:function(t,e){console.log("attempt",e,t)}});case 8:n,t.$blockchain.getAccountBalance(),t.$blockchain.getPendingBalance(),t.$store.dispatch("qualification/getAssignedQualifications"),t.$auth.$storage.setUniversal("rememberAccount",JSON.stringify(t.$blockchain.account)),path=t.$auth.$storage.getUniversal("redirect")||"/",t.$auth.$storage.setUniversal("redirect",null),t.$router.push(path),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),t.handleError(e.t0);case 21:t.loadingLogin=!1;case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))()},handleError:function(t){console.error(t),t.response&&t.response.data?t.response.data.error?this.error=t.response.data.error:t.response.data.message?this.error=t.response.data.message:this.error=t.response.data:t.message?this.error=t.message:this.error=t},accountExists:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$blockchain.getVAccountByName();case 3:(n=e.sent)&&n.length?t.existingAccount=!0:t.existingAccount=!1,e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),t.handleError(e.t0),alert("Cannot check if account exist, assuming it does not"),t.existingAccount=!1;case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},l=(n(1171),n(22)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"section"},[e("h2",{staticClass:"subtitle has-text-centered"},[t.$blockchain.waitForSignatureFrom?e("span",[t._v("Account Switched. Re-verify Signature")]):!1===t.existingAccount?e("span",[t._v("Create new Effect Account")]):e("span",[t._v("Login to your Effect Account")])]),t._v(" "),t.loading?e("div",{staticClass:"container"},[e("span",{staticClass:"loading-text"},[t._v("Loading")])]):e("div",{staticClass:"container"},[t.$blockchain.account?e("div",[e("div",{staticClass:"has-text-centered mb-2",class:{subtitle:"eos"===t.$blockchain.account.blockchain}},["bsc"===t.$blockchain.account.blockchain?e("a",{staticClass:"blockchain-address",attrs:{href:t.$blockchain.bsc.explorer+"/address/"+t.$blockchain.waitForSignatureFrom?t.$blockchain.waitForSignatureFrom:t.$blockchain.account.address,target:"_blank"}},[e("p",{staticStyle:{"word-break":"break-word"}},[t._v("\n            "+t._s(t.$blockchain.waitForSignatureFrom?t.$blockchain.waitForSignatureFrom:t.$blockchain.account.address)+"\n          ")])]):e("a",{attrs:{href:t.$blockchain.eos.explorer+"/address/"+t.$blockchain.account.accountName,target:"_blank"}},[t._v(t._s(t.$blockchain.account.accountName))]),t.$blockchain.account.permission?e("span",[t._v("@"+t._s(t.$blockchain.account.permission))]):t._e(),t._v(" "),t.$blockchain.account.privateKey?e("div",[e("p",{staticClass:"mt-2",staticStyle:{"word-break":"break-word"}},[t._m(0),t._v(" "),e("span",{staticClass:"has-text-link"},[t._v(t._s(t._f("hide")(t.$blockchain.account.privateKey,t.showPK)))])]),t._v(" "),e("button",{staticClass:"button is-light",on:{click:function(e){t.showPK=!t.showPK}}},[t.showPK?e("span",[t._v("Hide")]):e("span",[t._v("Show")])])]):t._e()]),t._v(" "),e("div",{staticStyle:{"min-height":"67px"}},[t.error?e("div",{staticClass:"notification is-danger"},[e("button",{staticClass:"delete",on:{click:function(e){t.error=null}}}),t._v("\n          "+t._s(t.error)+"\n        ")]):t._e(),t._v(" "),t.loadingLogin?e("div",{staticClass:"is-size-7 has-text-centered"},[t._v("\n          ..retrieving blockchain Effect Account info..\n        ")]):t._e()])]):e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-half has-text-centered"},[e("div",{staticClass:"button",staticStyle:{height:"auto",display:"block"},on:{click:function(e){t.$blockchain.loginModal="eos"}}},[t._m(1),t._v(" "),e("img",{attrs:{src:n(1087),height:"100"}})])]),t._v(" "),e("div",{staticClass:"column is-half"},[e("div",{staticClass:"button",staticStyle:{height:"auto",display:"block"},on:{click:function(e){t.$blockchain.loginModal="bsc"}}},[t._m(2),t._v(" "),e("img",{attrs:{src:n(1103),height:"100"}})])])]),t._v(" "),e("div",{staticClass:"columns is-flex-direction-row-reverse is-vcentered mt-1"},[e("div",{staticClass:"column is-4"},[t.$blockchain.waitForSignatureFrom?e("div",{staticClass:"button is-secondary is-fullwidth",class:{"is-loading":t.$blockchain.waitForSignature},on:{click:t.$blockchain.switchBscAccountBeforeLogin}},[t._v("\n          Sign\n        ")]):t.$blockchain.account?e("div",{staticClass:"button is-secondary is-fullwidth",class:{"is-loading":t.loadingLogin||null===t.existingAccount},attrs:{disabled:!t.$blockchain.account||t.loadingLogin||null===t.existingAccount},on:{click:t.login}},[t.existingAccount?e("span",[t._v("Login")]):e("span",[t._v("Register")])]):t._e()]),t._v(" "),e("div",{staticClass:"column is-8"},[t.$blockchain.account?e("a",{staticClass:"is-size-6 has-text-danger-dark",on:{click:function(e){return t.$blockchain.logout()}}},[t._v("switch wallet")]):e("span",[t._v("No wallet? "),e("a",{staticClass:"is-size-6",attrs:{target:"_blank",href:""},on:{click:function(e){e.preventDefault(),t.$blockchain.loginModal="bsc",t.$blockchain.triggerGenerate=!0}}},[t._v("Create a keypair")])])])])])])}),[function(){var t=this._self._c;return t("span",[t("b",[this._v("Private key")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"subtitle has-text-weight-semibold mb-2"},[e("small",{staticClass:"is-size-7"},[t._v("connect with ")]),e("br"),t._v("EOS\n          ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"subtitle has-text-weight-semibold mb-2"},[e("small",{staticClass:"is-size-7"},[t._v("connect with ")]),e("br"),t._v("BSC\n          ")])}],!1,null,"9ee0d85e",null);e.default=component.exports}}]);