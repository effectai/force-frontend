(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1241:function(t,e,n){t.exports=n.p+"img/effect-force-icon.828a6c5.png"},1242:function(t,e,n){var content=n(1245);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(59).default)("2ac9a1b4",content,!0,{sourceMap:!1})},1243:function(t,e,n){"use strict";var r={props:["page","perPage","items"],computed:{maxPage:function(){return Math.ceil(this.items/this.perPage)}},watch:{items:function(){this.$emit("setPage",1)}}},o=n(23),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items&&t.items>t.perPage?n("nav",{staticClass:"pagination",attrs:{role:"navigation","aria-label":"pagination"}},[n("span",{staticStyle:{"padding-left":"0.5em"}},[t._v(t._s((t.page-1)*t.perPage+1)+"-"+t._s(Math.min(t.page*t.perPage,t.items))+" of\n    "+t._s(t.items))]),t._v(" "),n("a",{staticClass:"pagination-previous",attrs:{disabled:1===t.page},on:{click:function(e){return t.$emit("setPage",t.page-1)}}},[t._v("Previous")]),t._v(" "),n("a",{staticClass:"pagination-next",attrs:{disabled:!t.maxPage||t.page===t.maxPage},on:{click:function(e){return t.$emit("setPage",t.page+1)}}},[t._v("Next page")]),t._v(" "),n("ul",{staticClass:"pagination-list has-margin-top-mobile"},[t.page>2?n("li",[n("a",{staticClass:"pagination-link",on:{click:function(e){return t.$emit("setPage",1)}}},[t._v("1")])]):t._e(),t._v(" "),t.page>3?n("li",[n("span",{staticClass:"pagination-ellipsis"},[t._v("…")])]):t._e(),t._v(" "),t.page>1?n("li",[n("a",{staticClass:"pagination-link",on:{click:function(e){return t.$emit("setPage",t.page-1)}}},[t._v(t._s(t.page-1))])]):t._e(),t._v(" "),n("li",[n("a",{staticClass:"pagination-link is-current",attrs:{"aria-current":"page"}},[t._v(t._s(t.page))])]),t._v(" "),t.page<t.maxPage?n("li",[n("a",{staticClass:"pagination-link",on:{click:function(e){return t.$emit("setPage",t.page+1)}}},[t._v("\n        "+t._s(t.page+1))])]):t._e(),t._v(" "),t.maxPage>t.page+2?n("li",[n("span",{staticClass:"pagination-ellipsis"},[t._v("…")])]):t._e(),t._v(" "),t.maxPage>t.page+1?n("li",[n("a",{staticClass:"pagination-link",on:{click:function(e){return t.$emit("setPage",t.maxPage)}}},[t._v(t._s(t.maxPage))])]):t._e()])]):t._e()}),[],!1,null,null,null);e.a=component.exports},1244:function(t,e,n){"use strict";n(1242)},1245:function(t,e,n){var r=n(58)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap);"]),r.push([t.i,".template-wrapper[data-v-502fba47]{width:100%}#mediaFrame[data-v-502fba47]{width:100%;border:none}",""]),t.exports=r},1247:function(t,e,n){"use strict";n(21),n(61);var r={props:{html:{type:String,default:null}},data:function(){return{alternativeFrontendUrl:"https://effectai.github.io/force-frontend-new",loading:!0}},watch:{html:function(t){document.getElementById("mediaFrame").contentWindow.postMessage({task:"template",value:t},"*")}},mounted:function(){document.addEventListener("keydown",this.sendKeyEvents)},created:function(){window.addEventListener("message",this.communicateWithIframe)},beforeDestroy:function(){window.removeEventListener("message",this.communicateWithIframe),document.removeEventListener("keydown",this.sendKeyEvents)},methods:{mediaFrameLoaded:function(){this.loading=!1,document.getElementById("mediaFrame").contentWindow.postMessage({task:"template",value:this.html},"*"),this.$emit("templateLoaded")},sendKeyEvents:function(t){var e=document.getElementById("mediaFrame");e&&e.contentWindow.postMessage({task:"key",key:t.key},"*")},communicateWithIframe:function(t){var data=t.data;switch(data.task){case"setHeight":document.getElementById("mediaFrame").height=data.height+"px";break;case"submit":this.$emit("submit",data.values);break;case"results":document.getElementById("mediaFrame").contentWindow.postMessage(data,"*")}}}},o=(n(1244),n(23)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"template-wrapper"},[t.loading?n("div",{staticClass:"loading-text subtitle"},[t._v("\n    Loading\n  ")]):t._e(),t._v(" "),n("iframe",{ref:"mediaFrame",attrs:{id:"mediaFrame",src:t.alternativeFrontendUrl+"/template",name:"mediaFrame",sandbox:"allow-scripts allow-modals allow-downloads allow-forms allow-popups allow-pointer-lock allow-same-origin",allow:"geolocation; microphone; camera; autoplay; fullscreen",allowFullScreen:""},on:{load:t.mediaFrameLoaded}})])}),[],!1,null,"502fba47",null);e.a=component.exports},1249:function(t,e,n){var map={"./effect-captions-icon.png":1250,"./effect-dao-icon.png":1251,"./effect-force-icon.png":1241,"./effect-socials-icon.png":1252,"./effect-translate-icon.png":1253};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=1249},1250:function(t,e,n){t.exports=n.p+"img/effect-captions-icon.d32e1fd.png"},1251:function(t,e,n){t.exports=n.p+"img/effect-dao-icon.8a49264.png"},1252:function(t,e,n){t.exports=n.p+"img/effect-socials-icon.113948d.png"},1253:function(t,e,n){t.exports=n.p+"img/effect-translate-icon.a76baca.png"},1257:function(t,e,n){"use strict";n(73),n(44),n(82),n(47),n(83),n(84),n(86),n(63),n(45),n(85),n(87),n(61);var r=n(29),o=(n(60),n(21),n(62),n(135)),c=n(1271),l=n.n(c);function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"InstructionsModal",props:{info:{type:Object,required:!0,default:function(){return{}}},show:{type:Boolean,required:!1,default:!1},functional:{type:Boolean,required:!1,default:!0},readonly:{type:Boolean,required:!1,default:!1},inclusiveQualifications:{type:Array,required:!1,default:function(){return[]}},exclusiveQualifications:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{tac:!1,id:parseInt(this.$route.params.id),campaign:null,userQuali:[],accountId:this.$auth.user.vAccountRows[0].id}},computed:h(h(h({},Object(o.b)({campaignById:"campaign/campaignById",qualificationById:"qualification/qualificationById"})),Object(o.c)({allQualificationsLoaded:function(t){return t.qualification.allQualificationsLoaded}})),{},{exclQualis:function(){return this.exclusiveQualifications.filter((function(q){return!q.ishidden}))},showModal:{get:function(){return this.show},set:function(t){this.$emit("clicked",t)}}}),created:function(){this.campaign=this.campaignById(this.id)},methods:{userAssignedQuali:function(t){var e=this,n=[];if(0===this.assignedQuali.length)return[];console.log("inclsive: ".concat(JSON.stringify(this.assignedQuali)));var r,o=d(this.campaign.qualis);try{var c=function(){var o=r.value,c=e.qualificationById(o.key),l=e.assignedQuali.some((function(t){return console.log("checking in some",t,o.key),t.quali_id===o.key}));console.log("UserHasQualiInclusive: ".concat(o)),o.value===t&&n.push({name:c.info.name,code:o.key,userHasQuali:l})};for(o.s();!(r=o.n()).done;)c()}catch(t){o.e(t)}finally{o.f()}return n},onCancel:function(){this.functional&&(this.showModal=!1)},onClick:function(){this.functional&&this.$parent.reserveTask()},sanitizeHtmlCustom:function(t){return l()(t,{allowedTags:["h1","h2","h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre","iframe","img","span","label"],allowedAttributes:{a:["href","name","target","class"],img:["src","alt"],iframe:["src"],"*":["style"]}})}}},_=n(23),component=Object(_.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.info?n("div",{staticClass:"modal",class:{"is-active":t.showModal},style:{position:t.functional?"fixed":"relative",padding:t.functional?"initial":"10px",zIndex:t.functional?"40":"1"}},[n("div",{staticClass:"modal-background"}),t._v(" "),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v("\n        "+t._s(t.info.title)+"\n      ")]),t._v(" "),n("button",{staticClass:"delete",attrs:{"aria-label":"close",disabled:!t.functional},on:{click:function(e){return e.preventDefault(),t.onCancel()}}})]),t._v(" "),n("section",{staticClass:"modal-card-body"},[t.info?n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.sanitizeHtmlCustom(t.$md.render(t.info.instructions)))}}):n("p",[t._v("\n        ...\n      ")]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"block is-vcentered"},[n("div",{staticClass:"is-size-4 has-text-centered"},[t._v("\n          Qualifications\n        ")]),t._v(" "),t.allQualificationsLoaded?n("div",[t._m(0),t._v(" "),t.inclusiveQualifications.length>0?n("div",{staticClass:"tags has-addons"},t._l(t.inclusiveQualifications,(function(e){return n("span",{key:e.id,staticClass:"tag",class:e.userHasQuali?"is-light is-success":"is-danger is-light",attrs:{"data-tooltip":e.userHasQuali?"Found: Ok":"Not Found: Required"}},[e.userHasQuali?n("span",[t._v("🗸")]):n("span",[t._v("🗴")]),t._v("\n               \n              "),n("nuxt-link",{attrs:{to:"/qualifications/"+e.id}},[t._v(t._s(e.info.name))])],1)})),0):n("div",[t._v("\n            None\n          ")]),t._v(" "),n("br"),t._v(" "),t._m(1),t._v(" "),t.exclQualis.length>0?n("div",{staticClass:"tags"},t._l(t.exclQualis,(function(e){return n("span",{key:e.code,staticClass:"tag",class:e.userHasQuali?"is-light is-danger":"is-warning is-light",attrs:{"data-tooltip":e.userHasQuali?"Found: Excluded":"Not found: Ok"}},[e.userHasQuali?n("span",[t._v("🗴")]):n("span",[t._v("🗸")]),t._v("\n               \n              "),n("nuxt-link",{attrs:{to:"/qualifications/"+e.id}},[t._v(t._s(e.info.name))])],1)})),0):n("div",[t._v("\n            None\n          ")])]):n("div",{staticClass:"loading-text has-text-centered"},[t._v("Loading")]),t._v(" "),n("br")]),t._v(" "),n("hr"),t._v(" "),n("label",{staticClass:"checkbox"},[t.readonly?n("input",{attrs:{checked:"",type:"checkbox",disabled:""}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.tac,expression:"tac"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.tac)?t._i(t.tac,null)>-1:t.tac},on:{change:function(e){var n=t.tac,r=e.target,o=!!r.checked;if(Array.isArray(n)){var c=t._i(n,null);r.checked?c<0&&(t.tac=n.concat([null])):c>-1&&(t.tac=n.slice(0,c).concat(n.slice(c+1)))}else t.tac=o}}}),t._v("\n        I agree to the "),n("a",{attrs:{href:"/download/tac.pdf",target:"_blank"}},[t._v("terms and conditions")])])]),t._v(" "),n("footer",{staticClass:"modal-card-foot has-text-centered"},[t.readonly?n("button",{staticClass:"button is-primary",attrs:{disabled:!t.functional},on:{click:function(e){return e.preventDefault(),t.onCancel()}}},[t._v("\n        OK\n      ")]):[n("button",{staticClass:"button is-primary has-tooltip has-tooltip-arrow",attrs:{"data-tooltip":t.tac?"No additional\nqualifications needed":"agree to the terms and\nconditions to qualify",disabled:!t.tac||!t.info||!t.functional},on:{click:function(e){return e.preventDefault(),t.onClick()}}},[t._v("\n          Qualify\n        ")]),t._v(" "),n("button",{staticClass:"button",attrs:{disabled:!t.functional},on:{click:function(e){return e.preventDefault(),t.onCancel()}}},[t._v("\n          Cancel\n        ")])]],2)])]):t._e()}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("Required "),n("i",[t._v("(Having these qualifications is required)")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("Exclude "),n("i",[t._v("(Having these qualifications will exclude you from this task)")])])}],!1,null,"7ec6035f",null);e.a=component.exports},1262:function(t,e){},1263:function(t,e){},1267:function(t,e){},1268:function(t,e){},1274:function(t,e){},1281:function(t,e,n){"use strict";t.exports.isFunction=function(t){return t&&"[object Function]"==={}.toString.call(t)},t.exports.isArray=function(t){return Array.isArray(t)},t.exports.isObject=function(t){return t instanceof Object},t.exports.isString=function(t){return"string"==typeof t},t.exports.isNumber=function(t){return"number"==typeof t},t.exports.isBoolean=function(t){return"boolean"==typeof t},t.exports.isDate=function(t){return t instanceof Date}},1347:function(t,e,n){t.exports=n.p+"img/eye.d08935c.svg"},1348:function(t,e,n){"use strict";t.exports="\n"},1349:function(t,e,n){var content=n(1494);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(59).default)("eee51c16",content,!0,{sourceMap:!1})},1487:function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(1488),c=n(1492),l=(n(1281),n(1348));t.exports=function(){var t={headers:[],rename:[],headerPathString:".",rowDelimiter:",",textDelimiter:'"',arrayPathString:";",undefinedString:"",endOfLine:l||"\n",mainPathItem:null,booleanTrueString:null,booleanFalseString:null,includeHeaders:!0,fillGaps:!1,verticalOutput:!0,forceTextDelimiter:!1},e=void 0,n=void 0,d=void 0;if(3===arguments.length){var v=Array.prototype.slice.call(arguments);e=v[0],n=v[1],d=v[2]}else if(2===arguments.length){var f=void 0,h=Array.prototype.slice.call(arguments);e=h[0],"function"==typeof(f=h[1])?d=f:"object"===(void 0===f?"undefined":r(f))&&(n=f)}else{if(1!==arguments.length)return new c(new o(t));var m=Array.prototype.slice.call(arguments),_=m[0];if("object"===(void 0===_?"undefined":r(_))){var k=Object.keys(t),y=Object.keys(_),w=y.every((function(t){return k.includes(t)}));y.length>0&&w?n=_:e=_}else e=_}var x=Object.assign({},t,n),C=new o(x);return e?new Promise((function(t,n){C.parse(e,(function(e,r){return d?d(e,r):e?n(e):n?t(r):void 0}))})):new c(C)}},1488:function(t,e,n){"use strict";var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=n(1489),c=n(1490),l=n(1281),d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._options=e||{},this._handler=new c(this._options),this._headers=this._options.headers||[],this._escape=n(1491)(this._options.textDelimiter,this._options.rowDelimiter,this._options.forceTextDelimiter)}return r(t,[{key:"parse",value:function(t,e,n){return l.isArray(t)?e(null,this._parseArray(t,n)):l.isObject(t)?e(null,this._parseObject(t)):e(new Error("Unable to parse the JSON object, its not an Array or Object."))}},{key:"_checkRows",value:function(t){var e=null,n=[],r=function(col,t){return""===col||void 0===col?e[t]:col},o=!0,c=!1,l=void 0;try{for(var d,v=t[Symbol.iterator]();!(o=(d=v.next()).done);o=!0){var f=d.value,h=this._headers.length-f.length;h>0&&(f=f.concat(Array(h).join(".").split("."))),e&&this._options.fillGaps&&(f=f.map(r)),n.push(f.join(this._options.rowDelimiter)),e=f}}catch(t){c=!0,l=t}finally{try{!o&&v.return&&v.return()}finally{if(c)throw l}}return n}},{key:"_parseArray",value:function(t,e){var n=this;this._headers=this._headers||[];var r,c=[];r=function(t){var header,e,r=[],o=function(t){return r.push(t.map((function(col){return null!=col?col:""})))},l=function(){return new Array(n._headers.length).fill(null)},d={},v=l(),f=!0,h=!1,m=void 0;try{for(var _,k=t[Symbol.iterator]();!(f=(_=k.next()).done);f=!0){var element=_.value,y=(header=element.item,e=void 0,-1===(e=n._headers.indexOf(header))&&(n._headers.push(header),e=n._headers.indexOf(header)),e);null!=v[y]&&(o(v),v=l()),d[y]=d[y]||0,n._options.fillTopRow&&d[y]<r.length?(r[d[y]][y]=n._escape(element.value),d[y]+=1):(v[y]=n._escape(element.value),d[y]+=1)}}catch(t){h=!0,m=t}finally{try{!f&&k.return&&k.return()}finally{if(h)throw m}}v.length>0&&o(v),c=c.concat(n._checkRows(r))};var l=!0,d=!1,v=void 0;try{for(var f,h=t[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var m=f.value;r(n._handler.check(m,n._options.mainPathItem,m,t))}}catch(t){d=!0,v=t}finally{try{!l&&h.return&&h.return()}finally{if(d)throw v}}return!e&&n._options.includeHeaders&&c.unshift(this.headers),o(c,n._options.endOfLine)}},{key:"_parseObject",value:function(t){var e,n=this,r=[],c=[[],[]];for(var l in e=function(t){var e=t.value||0===t.value?t.value.toString():n._options.undefinedString;if(e=n._escape(e),n._options.verticalOutput){var o=[t.item,e];r.push(o.join(n._options.rowDelimiter))}else c[0].push(t.item),c[1].push(e)},t){var d="";this._options.mainPathItem&&(d=this._options.mainPathItem+this._options.headerPathString),this._handler.check(t[l],d+l,l,t).forEach(e)}return this._options.verticalOutput||(r.push(c[0].join(this._options.rowDelimiter)),r.push(c[1].join(this._options.rowDelimiter))),o(r,this._options.endOfLine)}},{key:"headers",get:function(){var t=this,e=this._headers;return this._options.rename&&this._options.rename.length>0&&(e=e.map((function(header){return t._options.rename[t._options.headers.indexOf(header)]||header}))),this._options.forceTextDelimiter&&(e=e.map((function(header){return""+t._options.textDelimiter+header+t._options.textDelimiter}))),this._options.mapHeaders&&(e=e.map(this._options.mapHeaders)),e.join(this._options.rowDelimiter)}}]),t}();t.exports=d},1489:function(t,e,n){"use strict";var r=n(1348),o=n(1281);t.exports=function(t,e){if(!t||!o.isArray(t))throw new TypeError('Invalid params "rows" for joinRows. Must be an array of string.');return t.join(e||r||"\n")}},1490:function(t,e,n){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var c=n(1281),l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._options=e,this._options.typeHandlers=this._options.typeHandlers||{}}return o(t,[{key:"_setHeaders",value:function(t,e){var n=this;return e?t.map((function(element){return element.item=element.item?e+n._options.headerPathString+element.item:e,element})):t}},{key:"castValue",value:function(element,t,e,n){var r=this._options.typeHandlers;for(var o in r)if(v(element,o)){element=r[o].call(r,element,e,n);break}return element}},{key:"checkComplex",value:function(element,t){if(c.isDate(element))return[{item:t,value:(this._options.handleDate||this._handleDate)(element,t)}];if(c.isArray(element)){var e=this._handleArray(element,t);return this._setHeaders(e,t)}if(c.isObject(element)){var n=this._handleObject(element);return this._setHeaders(n,t)}return[{item:t,value:""}]}},{key:"check",value:function(element,t,e,n){switch(void 0===(element=this.castValue(element,t,e,n))?"undefined":r(element)){case"string":return[{item:t,value:this._handleString(element,t)}];case"number":return[{item:t,value:this._handleNumber(element,t)}];case"boolean":return[{item:t,value:this._handleBoolean.bind(this)(element,t)}]}return this.checkComplex(element,t)}},{key:"_handleObject",value:function(t){var e=[];for(var n in t){var r=t[n],o=this.check(r,n,n,t);e=e.concat(o)}return e}},{key:"_handleArray",value:function(t){for(var e,n=[],r=0;r<t.length;++r){var element=t[r],o=this.check(element,null,r,t);if(0!==o.length){var c=o[0];c.item||void 0===e?(o.length>0&&!c.item&&void 0===e&&(e=c),n=n.concat(o)):e.value+=this._options.arrayPathString+c.value}}return n}},{key:"_handleBoolean",value:function(t){return t?this._options.booleanTrueString||"true":this._options.booleanFalseString||"false"}},{key:"_handleString",value:function(t){return t}},{key:"_handleNumber",value:function(t){return t}},{key:"_handleDate",value:function(t){return t.toLocaleDateString()}}]),t}();t.exports=l;var d="undefined"==typeof window?e:window;function v(element,t){if(element instanceof d[t])return!0;switch(void 0===element?"undefined":r(element)){case"string":return"String"===t;case"boolean":return"Boolean"===t;case"number":return"Number"===t}return!1}}).call(this,n(11))},1491:function(t,e,n){"use strict";t.exports=function(t,e,n){if("string"!=typeof t)throw new TypeError('Invalid param "textDelimiter", must be a string.');if("string"!=typeof e)throw new TypeError('Invalid param "rowDelimiter", must be a string.');var r=new RegExp("\\"+t,"g"),o=t+t,c='"'===t?function(t){return t.indexOf(e)>=0||t.indexOf("\n")>=0||t.indexOf('"')>=0}:function(t){return t.indexOf(e)>=0||t.indexOf("\n")>=0};return function(e){return n&&(e=""+e),e.replace?(e=e.replace(r,o),(n||c(e))&&(e=t+e+t),e):e}}},1492:function(t,e,n){"use strict";t.exports=function(t){throw new Error("jsonexport called without third argument as a callback and is required")}},1493:function(t,e,n){"use strict";n(1349)},1494:function(t,e,n){var r=n(58)(!1);r.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap);"]),r.push([t.i,".box-title[data-v-2d5d58b6]{text-align:center;border-bottom:2px solid #cdd4e6;padding-bottom:31px;margin:10px 0 15px}.progress[data-v-2d5d58b6]::-webkit-progress-value{-webkit-transition:width .5s ease;transition:width .5s ease}.tabs li[data-v-2d5d58b6]{font-weight:500}.tabs li a[data-v-2d5d58b6]{padding-left:35px;padding-right:35px}.tabs li.is-active a[data-v-2d5d58b6]{border-bottom-width:2px;border-bottom-color:#1977f3;color:#151a1f;font-weight:600}.information-block[data-v-2d5d58b6]{border:1px solid #e8eeff;border-radius:8px}.information-block .block[data-v-2d5d58b6]{margin-bottom:10px}.information-block .information-header[data-v-2d5d58b6]{background:#f7fbff}.task-tab div.box[data-v-2d5d58b6]{padding:1rem;border-radius:8px;cursor:pointer}.task-tab div.box[data-v-2d5d58b6]:hover{background:#f7fbff;border:1px solid #6e90f4}.task-tab div.box.is-active[data-v-2d5d58b6]{border:2px solid #1977f3}",""]),t.exports=r},1530:function(t,e,n){"use strict";n.r(e);n(44),n(82),n(47),n(83);var r=n(3),o=n(29),c=(n(28),n(84),n(60),n(21),n(111),n(121),n(159),n(63),n(61),n(110),n(73),n(1287),n(598),n(135)),l=n(74),d=n(1247),v=n(1257),f=n(374),h=n(1243);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var k=n(1487),y={components:{TemplateMedia:d.a,InstructionsModal:v.a,SuccessModal:f.a,Pagination:h.a},middleware:["auth"],data:function(){return{ipfsExplorer:this.$blockchain.sdk.config.ipfsNode,campaignId:parseInt(this.$route.params.id),batchId:parseInt(this.$route.params.batch),batchCompleted:parseInt(this.$route.query.batchCompleted),campaign:void 0,batch:void 0,body:"description",accountId:this.$auth.user.vAccountRows[0].id,userJoined:null,loading:!1,loadingReservation:!1,joinCampaignPopup:!1,submissions:null,pageR:1,page:1,pageT:1,perPage:20,pages:[],pagesR:[],pagesT:[],viewTaskResult:!1,successMessage:null,successTitle:null,reservations:null,userReservation:null,releasedReservations:null,waitingOnTransaction:!1,categories:["translate","captions","socials","dao"],taskTab:"allTasks"}},computed:_(_({},Object(c.c)({batches:function(t){return t.campaign.batches},campaigns:function(t){return t.campaign.campaigns},campaignLoading:function(t){return t.campaign.loading&&!t.campaign.allCampaignsLoaded},batchLoading:function(t){return t.campaign.loadingBatch}})),{},{paginatedSubmissions:function(){var t=(this.page-1)*this.perPage;return this.submissions?this.submissions.slice(t,t+this.perPage):[]},paginatedReservations:function(){var t=(this.page-1)*this.perPage;return this.reservations.filter((function(t){return t.account_id}))?this.reservations.filter((function(t){return t.account_id})).slice(t,t+this.perPage):[]},paginatedTasks:function(){var t=(this.pageT-1)*this.perPage;return this.batch&&this.batch.tasks?this.batch.tasks.slice(t,t+this.perPage):[]}}),mounted:function(){this.batchCompleted&&(this.successTitle="Batch is completed",this.successMessage="All the tasks in this batch are done")},created:function(){this.getBatch(),this.getCampaign()},methods:{campaignModalChange:function(t){this.joinCampaignPopup=t},handleBatch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"Active"!==t.batch.status){e.next=7;break}return e.next=4,t.$blockchain.pauseBatch(t.batch);case 4:data=e.sent,e.next=11;break;case 7:if("Paused"!==t.batch.status){e.next=11;break}return e.next=10,t.$blockchain.resumeBatch(t.batch);case 10:data=e.sent;case 11:if(t.$store.dispatch("transaction/addTransaction",data),!data){e.next=18;break}return t.loading=!0,t.joinCampaignPopup=!1,e.next=17,t.$blockchain.waitForTransaction(data);case 17:t.$router.push("/campaigns/".concat(t.campaign.id));case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),t.$blockchain.handleError(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))()},reserveTask:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("view/ADD_JOINED_CAMPAIGN",t.campaign.id),t.loadingReservation=!0,e.prev=2,e.next=5,t.$blockchain.makeReservation(t.batch);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),t.$blockchain.handleError(e.t0);case 10:t.loadingReservation=!1;case 11:case"end":return e.stop()}}),e,null,[[2,7]])})))()},releaseTask:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var data,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$blockchain.releaseTask(t);case 2:return data=n.sent,n.next=5,e.$blockchain.waitForTransaction(data);case 5:return e.$store.dispatch("transaction/addTransaction",data),n.next=8,e.$blockchain.getTaskReservationsForBatch(e.batchId);case 8:r=n.sent,e.reservations=r.filter((function(sub){return sub.account_id})),e.getBatch();case 11:case"end":return n.stop()}}),n)})))()},checkUserCampaign:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!0,e.prev=1,t.userJoined=t.$store.state.view.joinedCampaigns.includes(t.campaign.id),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),e.next=9,t.$blockchain.handleError(e.t0);case 9:t.loading=!1;case 10:case"end":return e.stop()}}),e,null,[[1,5]])})))()},postResults:function(t){var e=document.getElementById("mediaFrame");e&&e.contentWindow.postMessage({task:"results",value:t},"*")},viewTask:function(sub){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$blockchain.getTaskIndexFromLeaf(t.batch.campaign_id,t.batch.id,sub.leaf_hash,t.batch.tasks);case 2:n=e.sent,t.viewTaskResult={placeholders:t.batch.tasks[n],results:JSON.parse(sub.data)};case 4:case"end":return e.stop()}}),e)})))()},viewTaskPreview:function(t){this.viewTaskResult={placeholders:t,results:[]}},submitTask:function(t){console.log("Task submitted!",t)},renderTemplate:function(template){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new l.Template(template,t,e).render()},getBatch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("campaign/getBatch",{batchId:t.batchId});case 2:return t.batch=t.batches.find((function(b){return b.batch_id===t.batchId})),e.next=5,t.$blockchain.getSubmissionsAndReservationsForBatch(t.batchId);case 5:n=e.sent,t.submissions=n.filter((function(sub){return sub.data})),t.reservations=n.filter((function(sub){return!sub.data&&sub.account_id})),t.releasedReservations=n.filter((function(sub){return!sub.data&&!sub.account_id})),t.userReservation=t.reservations.find((function(e){return e.account_id===t.$auth.user.vAccountRows[0].id}));case 10:case"end":return e.stop()}}),e)})))()},getCampaign:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("campaign/getCampaign",t.campaignId);case 2:return t.campaign=t.campaigns.find((function(e){return e.id===t.campaignId})),e.next=5,t.checkUserCampaign();case 5:case"end":return e.stop()}}),e)})))()},generateRandomNumber:function(t){return Math.ceil(Math.random()*t)},downloadTaskResults:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(t.submissions.map(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n){var sub,r,o,c,l,d,v,f,h,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for((sub={}).data=JSON.parse(n.data),r=0,o=Object.keys(sub.data);r<o.length;r++)c=o[r],n[c]=sub.data[c];return e.next=5,t.$blockchain.getTaskIndexFromLeaf(t.batch.campaign_id,t.batch.id,n.leaf_hash,t.batch.tasks);case 5:for(l=e.sent,d=t.batch.tasks[l],n.placeholders=JSON.stringify(d),v=0,f=Object.keys(d);v<f.length;v++)h=f[v],n[h]=d[h];return delete n.content,delete n.batch_id,delete n.id,delete n.leaf_hash,m={link_id:null,account_id:null},n=Object.assign(m,n),e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return n=e.sent,e.next=6,k(n,(function(e,n){if(e)return console.error(e);var r="task_results_".concat(t.batchId,".csv"),o=new Blob([n],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(o,r);else{var link=document.createElement("a");if(void 0!==link.download){var c=URL.createObjectURL(o);link.setAttribute("href",c),link.setAttribute("download",r),link.style.visibility="hidden",document.body.appendChild(link),link.click(),document.body.removeChild(link)}}}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},setPage:function(t){this.page=t},setPageR:function(t){this.pageR=t},setPageT:function(t){this.pageT=t},getProgressBatch:function(t){switch(console.log("%c ".concat(JSON.stringify(t)),"background: #222; color: #bada55"),null==t?void 0:t.status){case"Completed":return"is-success";case"Active":return"is-info";case"Paused":return"is-warning"}}}},w=y,x=(n(1493),n(23)),component=Object(x.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"section is-max-widescreen"},[r("div",{staticClass:"container"},[r("nav",{staticClass:"breadcrumb",attrs:{"aria-label":"breadcrumbs"}},[r("ul",[r("li",[r("nuxt-link",{attrs:{to:"/"}},[t._v("\n            Tasks\n          ")])],1),t._v(" "),r("li",[r("nuxt-link",{attrs:{to:"/campaigns/"+t.campaignId}},[t._v("\n            Task "+t._s(t.campaignId)+"\n          ")])],1),t._v(" "),r("li",{staticClass:"is-active"},[t.batch?r("nuxt-link",{attrs:{to:"/campaigns/"+t.campaignId+"/"+t.batchId,"aria-current":"page"}},[t._v("\n            Batch "+t._s(t.batch.id)+"\n          ")]):t._e()],1)])]),t._v(" "),t.loading?r("div",{staticClass:"loader-wrapper is-active"},[r("img",{attrs:{src:n(373)}}),t._v(" "),r("br"),t.waitingOnTransaction?r("span",{staticClass:"loading-text subtitle"},[t._v("Waiting for the transaction to complete")]):r("span",{staticClass:"loading-text subtitle"},[t._v("Please sign the transaction")])]):t._e(),t._v(" "),t.campaign?t._e():r("div",{staticClass:"loading-text"},[t._v("\n      Task loading\n    ")]),t._v(" "),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-three-fifths"},[r("div",{staticClass:"is-flex is-align-items-center mb-6"},[t.campaign?r("p",{staticClass:"image has-radius mr-4",staticStyle:{width:"52px",height:"52px"}},[t.campaign.info&&t.campaign.info.image?r("img",{attrs:{src:t.campaign.info.image.Hash?t.ipfsExplorer+"/ipfs/"+t.campaign.info.image.Hash:t.campaign.info.image}}):t.campaign.info&&t.campaign.info.category&&t.categories.includes(t.campaign.info.category)?r("img",{attrs:{src:n(1249)("./effect-"+t.campaign.info.category+"-icon.png")}}):r("img",{attrs:{src:n(1241),alt:"campaign title"}})]):t._e(),t._v(" "),r("div",{staticClass:"title has-text-weight-bold"},[t.batch?r("span",[t._v("#"+t._s(t.campaignId)+"."+t._s(t.batch.id)+": ")]):t._e(),t._v(" "),t.campaign&&t.campaign.info?r("span",[t._v(t._s(t.campaign.info.title))]):t.campaign&&null===t.campaign.info?r("span",{staticClass:"has-text-danger-dark"},[t._v("Could not load campaign info")]):r("span",{staticClass:"loading-text"},[t._v("Loading")])])]),t._v(" "),r("div",{staticClass:"tabs campaign-tabs"},[r("ul",[r("li",{class:{"is-active":"description"===t.body}},[r("a",{on:{click:function(e){e.preventDefault(),t.body="description"}}},[t._v("Description")])]),t._v(" "),r("li",{class:{"is-active":"instruction"===t.body}},[r("a",{on:{click:function(e){e.preventDefault(),t.body="instruction"}}},[t._v("Instructions")])]),t._v(" "),r("li",{class:{"is-active":"preview"===t.body}},[r("a",{on:{click:function(e){e.preventDefault(),t.body="preview"}}},[t._v("Preview")])]),t._v(" "),t.campaign&&t.campaign.owner[1]===t.$auth.user.accountName?r("li",{class:{"is-active":"tasks"===t.body}},[r("a",{on:{click:function(e){e.preventDefault(),t.body="tasks"}}},[t._v("Tasks")])]):t._e()])]),t._v(" "),"description"===t.body?r("div",{staticClass:"block"},[t.campaign&&t.campaign.info?r("p",[t._v("\n            "+t._s(t.campaign.info.description)+"\n          ")]):r("p",[t._v("\n            ...\n          ")])]):t._e(),t._v(" "),"instruction"===t.body?r("div",{staticClass:"block"},[t.campaign&&t.campaign.info?r("div",{staticClass:"content",domProps:{innerHTML:t._s(t.$md.render(t.campaign.info.instructions))}}):r("p",[t._v("\n            ...\n          ")])]):t._e(),t._v(" "),"preview"===t.body?r("div",{staticClass:"block"},[t.campaign&&t.campaign.info?r("template-media",{attrs:{html:t.renderTemplate(t.campaign.info.template||"No template found..",t.campaign.info.example_task||{})},on:{submit:t.submitTask}}):t._e()],1):t._e(),t._v(" "),"tasks"===t.body?r("div",[r("div",{staticClass:"block columns",staticStyle:{"overflow-x":"auto"}},[r("div",{staticClass:"column is-one-third task-tab",on:{click:function(e){e.preventDefault(),t.taskTab="allTasks"}}},[t.batch&&t.batch.tasks?r("div",{staticClass:"box",class:{"is-active":"allTasks"===t.taskTab}},[t._v("\n                Tasks\n                "),r("br"),t._v(" "),r("span",{},[r("span",[r("b",[t._v(t._s(t.batch.tasks.length))])])])]):t._e()]),t._v(" "),r("div",{staticClass:"column is-one-third task-tab",on:{click:function(e){e.preventDefault(),t.taskTab="submissions"}}},[t.batch?r("div",{staticClass:"box",class:{"is-active":"submissions"===t.taskTab}},[t._v("\n                Tasks Completed\n                "),r("br"),t._v(" "),t.submissions?r("b",[t._v(t._s(t.submissions.length))]):r("b",[t._v("0")])]):t._e()]),t._v(" "),r("div",{staticClass:"column is-one-third task-tab",on:{click:function(e){e.preventDefault(),t.taskTab="reservations"}}},[r("div",{staticClass:"box",class:{"is-active":"reservations"===t.taskTab}},[t._v("\n                Active Reservations\n                "),r("br"),t._v(" "),t.reservations?r("b",[t._v(t._s(t.reservations.length))]):r("b",[t._v("0")])])])]),t._v(" "),"allTasks"===t.taskTab?r("div",{staticStyle:{"overflow-x":"auto"}},[t.batch&&t.batch.tasks&&t.batch.tasks.length>0?r("div",[r("table",{staticClass:"table",staticStyle:{width:"100%"}},[t._m(0),t._v(" "),r("tbody",t._l(t.paginatedTasks,(function(e){return r("tr",{key:e.id},[r("td",[t._v(t._s(e.id))]),t._v(" "),r("td",t._l(Object.keys(e),(function(n,o){return r("div",{key:o},["id"!==n&&"link_id"!==n?r("span",[r("span",[t._v(t._s(n)+": "+t._s(e[n]))]),t._v(" "),r("br")]):t._e()])})),0),t._v(" "),r("td",[r("div",{on:{click:function(n){return n.preventDefault(),t.viewTaskPreview(e)}}},[r("img",{attrs:{src:n(1347)}})])])])})),0)]),t._v(" "),t.batch&&t.batch.tasks?r("pagination",{attrs:{items:t.batch.tasks.length,page:t.pageT,"per-page":t.perPage},on:{setPage:t.setPageT}}):t._e()],1):r("span",[t._v("No tasks found")])]):t._e(),t._v(" "),"submissions"===t.taskTab?r("div",{staticStyle:{"overflow-x":"auto"}},[t.submissions&&t.submissions.length>0?r("div",[r("table",{staticClass:"table",staticStyle:{width:"100%"}},[t._m(1),t._v(" "),r("tbody",t._l(t.paginatedSubmissions,(function(sub){return r("tr",{key:sub.id},[r("td",[t._v(t._s(sub.id))]),t._v(" "),r("td",[t._v(t._s(sub.account_id))]),t._v(" "),r("td",[t._v(t._s(sub.data))]),t._v(" "),r("td",[t._v(t._s(sub.paid?"yes":"no"))]),t._v(" "),r("td",[r("div",{staticStyle:{width:"30px"},on:{click:function(e){return e.preventDefault(),t.viewTask(sub)}}},[r("img",{attrs:{src:n(1347)}})])])])})),0)]),t._v(" "),t.submissions?r("pagination",{attrs:{items:t.submissions.length,page:t.page,"per-page":t.perPage},on:{setPage:t.setPage}}):t._e(),t._v(" "),r("button",{staticClass:"button is-primary",on:{click:function(e){return e.preventDefault(),t.downloadTaskResults()}}},[t._v("\n                Download Results\n              ")])],1):r("span",[t._v("No submissions found")])]):t._e(),t._v(" "),"reservations"===t.taskTab?r("div",{staticStyle:{"overflow-x":"auto"}},[t.reservations&&t.reservations.length>0?r("div",[r("table",{staticClass:"table",staticStyle:{width:"100%"}},[t._m(2),t._v(" "),r("tbody",t._l(t.paginatedReservations,(function(sub){return r("tr",{key:sub.id},[r("td",[t._v(t._s(sub.id))]),t._v(" "),r("td",[sub.account_id?r("p",[t._v("\n                        "+t._s(sub.account_id)+"\n                      ")]):r("p")]),t._v(" "),r("td",[r("p",[t._v(t._s(sub.submitted_on))])]),t._v(" "),r("td",[null!==sub.account_id?r("button",{staticClass:"button is-primary",on:{click:function(e){return e.preventDefault(),t.releaseTask(sub.id)}}},[t._v("\n                        Release Task\n                      ")]):t._e()])])})),0)]),t._v(" "),t.reservations?r("pagination",{attrs:{items:t.reservations.length,page:t.pageR,"per-page":t.perPage},on:{setPage:t.setPageR}}):t._e()],1):r("span",[t._v("No active reservations")])]):t._e(),t._v(" "),r("div",{staticClass:"modal",class:{"is-active":t.viewTaskResult}},[r("div",{staticClass:"modal-background",on:{click:function(e){t.viewTaskResult=!1}}}),t._v(" "),r("div",{staticClass:"modal-content",staticStyle:{"background-color":"#fff",padding:"10px"}},[t.campaign&&t.campaign.info&&t.viewTaskResult?r("template-media",{attrs:{html:t.renderTemplate(t.campaign.info.template||"No template found..",t.viewTaskResult.placeholders)},on:{templateLoaded:function(e){return t.postResults(t.viewTaskResult.results)}}}):t._e()],1),t._v(" "),r("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(e){t.viewTaskResult=!1}}})]),t._v(" "),r("nuxt-link",{staticClass:"mt-6 button is-primary is-light",attrs:{to:"/campaigns/"+t.campaignId}},[t._v("\n            < Back to campaign\n          ")])],1):t._e()]),t._v(" "),r("div",{staticClass:"column is-two-fifths"},[r("div",{staticClass:"information-block"},[t._m(3),t._v(" "),r("div",{staticClass:"p-5"},[r("div",{staticClass:"block"},[r("b",[t._v("Tasks")]),t._v(" "),r("br"),t._v(" "),t.batch&&t.batch.num_tasks-t.batch.real_tasks_done==0?[r("span",[t._v(t._s(t.batch.num_tasks)+" Tasks done.")])]:t.batch&&t.batch.num_tasks-t.batch.real_tasks_done>0&&t.releasedReservations||t.batch&&t.batch.reservations&&t.batch.reservations.length&&t.releasedReservations?[r("span",[t._v(t._s(t.batch.num_tasks-(t.batch.real_tasks_done-t.releasedReservations.length)))]),t._v(" "),r("span",[t._v("/ "+t._s(t.batch.num_tasks)+" left")])]:t.batch&&t.batch.num_tasks-t.batch.real_tasks_done>0||t.batch&&t.batch.reservations&&t.batch.reservations.length?[r("span",[t._v(t._s(t.batch.num_tasks-t.batch.real_tasks_done))]),t._v(" "),r("span",[t._v("/ "+t._s(t.batch.num_tasks)+" left")])]:r("span",[t._v("...")]),t._v(" "),r("progress",{staticClass:"progress",class:t.getProgressBatch(t.batch),attrs:{max:t.batch?t.batch.num_tasks:void 0},domProps:{value:t.batch&&t.releasedReservations?t.batch.real_tasks_done-t.releasedReservations.length:void 0}},[t._v("\n                Left\n              ")])],2),t._v(" "),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-half"},[r("div",{staticClass:"block"},[r("br"),t._v(" "),t.campaign&&t.campaign.info?r("nuxt-link",{staticClass:"tag is-info is-light is-medium",class:["is-"+t.campaign.info.category],attrs:{to:"/?category="+t.campaign.info.category}},[t._v("\n                    "+t._s(t.campaign.info.category)+"\n                  ")]):r("span",{staticClass:"tag is-info is-light is-medium"},[t._v("...")])],1),t._v(" "),r("div",{staticClass:"block"},[t._v("\n                  Status\n                  "),r("br"),t._v(" "),t.batch?r("span",[r("b",[t._v(t._s(t.batch.status))])]):r("span",[t._v("...")])]),t._v(" "),r("div",{staticClass:"block"},[t._v("\n                  Reward\n                  "),r("br"),t._v(" "),t.campaign?r("span",[r("b",[t._v(t._s(t.campaign.reward.quantity))])]):r("span",[t._v("...")])]),t._v(" "),r("div",{staticClass:"block"},[t._v("\n                  Repititions\n                  "),r("br"),t._v(" "),t.batch?r("span",[r("b",[t._v(t._s(t.batch.repetitions))])]):r("span",[t._v("...")])])]),t._v(" "),r("div",{staticClass:"column is-half"},[r("div",{staticClass:"block"},[t._v("\n                  Requester\n                  "),r("br"),t._v(" "),r("div",{staticClass:"blockchain-address"},[t.campaign?r("nuxt-link",{attrs:{to:"/profile/"+t.campaign.owner[1]}},[t._v("\n                      "+t._s(t.campaign.owner[1])+"\n                    ")]):r("span",[t._v(".....")])],1)]),t._v(" "),r("div",{staticClass:"block"},[t._v("\n                  IPFS\n                  "),r("br"),t._v(" "),t.batch?r("div",{staticClass:"blockchain-address"},[r("a",{attrs:{target:"_blank",href:t.ipfsExplorer+"/ipfs/"+t.batch.content.field_1}},[t._v(t._s(t.batch.content.field_1))])]):r("span",[t._v(".....")])]),t._v(" "),r("div",{staticClass:"block"},[t._v("\n                  Blockchain\n                  "),r("br"),t._v(" "),r("a",{attrs:{target:"_blank",href:t.$blockchain.eos.explorer+"/account/"+t.$blockchain.sdk.force.config.forceContract+"?loadContract=true&tab=Tables&table=batch&account="+t.$blockchain.sdk.force.config.forceContract+"&scope="+t.$blockchain.sdk.force.config.forceContract+"&limit=1&lower_bound="+t.batchId+"&upper_bound="+t.batchId}},[t._v("View Batch on Explorer")])])])]),t._v(" "),r("div",{staticClass:"block is-vcentered"},[t.campaign&&t.$auth.user.accountName===t.campaign.owner[1]?[t.batch&&"Completed"!==t.batch.status?r("button",{staticClass:"button is-primary is-fullwidth is-light",on:{click:function(e){return e.preventDefault(),t.handleBatch.apply(null,arguments)}}},["Active"===t.batch.status?r("span",[t._v("Pause Batch")]):"Paused"===t.batch.status?r("span",[t._v("Resume Batch")]):t._e()]):t._e(),t._v(" "),r("br")]:t._e(),t._v(" "),t.loading||null===t.userReservation||t.campaignLoading||!t.batch?r("button",{staticClass:"button is-fullwidth is-primary is-loading"},[t._v("\n                Loading\n              ")]):!1===t.userJoined?r("button",{staticClass:"button is-fullwidth is-primary",class:{"is-loading":!0===t.loading},on:{click:function(e){e.preventDefault(),t.joinCampaignPopup=!0}}},[t._v("\n                Qualify\n              ")]):t.userReservation&&"Active"===t.batch.status?r("button",{staticClass:"button is-fullwidth is-accent has-text-weight-semibold",on:{click:function(e){return e.preventDefault(),t.reserveTask.apply(null,arguments)}}},[t._v("\n                Resume Task\n              ")]):"Active"===t.batch.status&&t.batch.num_tasks-t.batch.real_tasks_done!=0&&!t.userReservation||t.releasedReservations.length>0?r("button",{staticClass:"button is-fullwidth is-primary",on:{click:function(e){return e.preventDefault(),t.reserveTask.apply(null,arguments)}}},[t._v("\n                Make Task Reservation\n              ")]):[t.userJoined?r("button",{staticClass:"button is-fullwidth is-primary",attrs:{disabled:!0}},[t._v("\n                  Qualified for Task\n                ")]):t._e(),t._v(" "),t._m(4)]],2)])])]),t._v(" "),t.batch&&t.batch.num_tasks-t.batch.real_tasks_done==0&&t.batchCompleted&&t.successMessage?r("success-modal",{attrs:{message:t.successMessage,title:t.successTitle}}):t._e(),t._v(" "),t.loadingReservation?r("div",{staticClass:"loader-wrapper is-active"},[r("img",{attrs:{src:n(373)}}),t._v(" "),r("br"),r("span",{staticClass:"loading-text"},[t._v("Making reservation")])]):t._e(),t._v(" "),t.campaign&&t.campaign.info?r("instructions-modal",{attrs:{campaign:t.campaign,info:t.campaign.info,show:t.joinCampaignPopup},on:{clicked:t.campaignModalChange}}):t._e()],1)])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("ID")]),t._v(" "),n("th",[t._v("Placeholders")]),t._v(" "),n("th",[t._v("Actions")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("ID")]),t._v(" "),n("th",[t._v("Account ID")]),t._v(" "),n("th",[t._v("Data")]),t._v(" "),n("th",[t._v("Paid")]),t._v(" "),n("th",[t._v("Actions")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Reservation ID")]),t._v(" "),n("th",[t._v("Account ID")]),t._v(" "),n("th",[t._v("Submitted on")]),t._v(" "),n("th",[t._v("Actions")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"information-header has-text-centered"},[n("h4",{staticClass:"p-5 is-size-4"},[n("b",[t._v("Information")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"has-text-centered"},[n("i",[t._v("No active tasks currently")])])}],!1,null,"2d5d58b6",null);e.default=component.exports}}]);