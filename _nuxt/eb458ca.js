(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1331:function(t,n,e){t.exports=e.p+"img/EOS-logo.244ceb6.svg"},1348:function(t,n,e){t.exports=e.p+"img/BSC-logo.187534e.svg"},1367:function(t,n,e){var content=e(1426);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(68).default)("b786ce94",content,!0,{sourceMap:!1})},1425:function(t,n,e){"use strict";e(1367)},1426:function(t,n,e){var c=e(67)(!1);c.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap);"]),c.push([t.i,".blockchain-address[data-v-68102ba6]{white-space:unset}",""]),t.exports=c},1578:function(t,n,e){"use strict";e.r(n);var c=e(3),o=(e(34),e(19),e(145),e(299),e(103),e(51),e(234),e(406)),r={filters:{hide:function(t,n){return n?t:(t=t.toString()).split("").map((function(t){return"•","•"})).join("")}},layout:"box",middleware:["auth"],auth:"guest",data:function(){return{existingAccount:null,error:null,loadingLogin:!1,loading:!1,showPK:!1}},watch:{"$blockchain.account":function(t){this.existingAccount=null,t&&this.accountExists()}},created:function(){this.rememberLogin()},methods:{connectToBurnerWallet:function(t){this.$root.$emit("selectBurnerWallet",t),this.$blockchain.burnerWallet=!1},rememberLogin:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loading=!0,n.prev=1,n.next=4,t.$blockchain.rememberLogin();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),console.error("rememberLogin",n.t0);case 9:t.loading=!1;case 10:case"end":return n.stop()}}),n,null,[[1,6]])})))()},login:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var e,path;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.loadingLogin=!0,t.$blockchain.account){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,n.next=6,t.$blockchain.connectAccount();case 6:return n.next=8,o(Object(c.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$auth.loginWith("blockchain",{account:t.$blockchain.account,$blockchain:t.$blockchain});case 2:case"end":return n.stop()}}),n)}))),{retries:5,onRetry:function(t,n){console.log("attempt",n,t)}});case 8:e,t.$blockchain.getAccountBalance(),t.$blockchain.getPendingBalance(),t.$auth.$storage.setUniversal("rememberAccount",JSON.stringify(t.$blockchain.account)),path=t.$auth.$storage.getUniversal("redirect")||"/",t.$auth.$storage.setUniversal("redirect",null),t.$router.push(path),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(3),t.handleError(n.t0);case 20:t.loadingLogin=!1;case 21:case"end":return n.stop()}}),n,null,[[3,17]])})))()},handleError:function(t){console.error(t),t.response&&t.response.data?t.response.data.error?this.error=t.response.data.error:t.response.data.message?this.error=t.response.data.message:this.error=t.response.data:t.message?this.error=t.message:this.error=t},accountExists:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$blockchain.getVAccountByName();case 3:(e=n.sent)&&e.length?t.existingAccount=!0:t.existingAccount=!1,n.next=12;break;case 7:n.prev=7,n.t0=n.catch(0),t.handleError(n.t0),alert("Cannot check if account exist, assuming it does not"),t.existingAccount=!1;case 12:case"end":return n.stop()}}),n,null,[[0,7]])})))()}}},l=(e(1425),e(25)),component=Object(l.a)(r,(function(){var t=this,n=t._self._c;return n("section",{staticClass:"section"},[n("h2",{staticClass:"subtitle has-text-centered"},[t.$blockchain.waitForSignatureFrom?n("span",[t._v("Account Switched. Re-verify Signature")]):!1===t.existingAccount?n("span",[t._v("Create new Effect Account")]):n("span",[t._v("Login to your Effect Account")])]),t._v(" "),t.loading?n("div",{staticClass:"container"},[n("span",{staticClass:"loading-text"},[t._v("Loading")])]):n("div",{staticClass:"container"},[t.$blockchain.account?n("div",[n("div",{staticClass:"has-text-centered mb-2",class:{subtitle:"eos"===t.$blockchain.account.blockchain}},["bsc"===t.$blockchain.account.blockchain?n("a",{staticClass:"blockchain-address",attrs:{href:t.$blockchain.bsc.explorer+"/address/"+t.$blockchain.waitForSignatureFrom?t.$blockchain.waitForSignatureFrom:t.$blockchain.account.address,target:"_blank"}},[n("p",{staticStyle:{"word-break":"break-word"}},[t._v("\n            "+t._s(t.$blockchain.waitForSignatureFrom?t.$blockchain.waitForSignatureFrom:t.$blockchain.account.address)+"\n          ")])]):n("a",{attrs:{href:t.$blockchain.eos.explorer+"/address/"+t.$blockchain.account.accountName,target:"_blank"}},[t._v(t._s(t.$blockchain.account.accountName))]),t.$blockchain.account.permission?n("span",[t._v("@"+t._s(t.$blockchain.account.permission))]):t._e(),t._v(" "),t.$blockchain.account.privateKey?n("div",[n("p",{staticClass:"mt-2",staticStyle:{"word-break":"break-word"}},[t._m(0),t._v(" "),n("span",{staticClass:"has-text-link"},[t._v(t._s(t._f("hide")(t.$blockchain.account.privateKey,t.showPK)))])]),t._v(" "),n("button",{staticClass:"button is-light",on:{click:function(n){t.showPK=!t.showPK}}},[t.showPK?n("span",[t._v("Hide")]):n("span",[t._v("Show")])])]):t._e()]),t._v(" "),n("div",{staticStyle:{"min-height":"67px"}},[t.error?n("div",{staticClass:"notification is-danger"},[n("button",{staticClass:"delete",on:{click:function(n){t.error=null}}}),t._v("\n          "+t._s(t.error)+"\n        ")]):t._e(),t._v(" "),t.loadingLogin?n("div",{staticClass:"is-size-7 has-text-centered"},[t._v("\n          ..retrieving blockchain Effect Account info..\n        ")]):t._e()])]):n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-half has-text-centered"},[n("div",{staticClass:"button",staticStyle:{height:"auto",display:"block"},on:{click:function(n){t.$blockchain.loginModal="eos"}}},[t._m(1),t._v(" "),n("img",{attrs:{src:e(1331),height:"100"}})])]),t._v(" "),n("div",{staticClass:"column is-half"},[n("div",{staticClass:"button",staticStyle:{height:"auto",display:"block"},on:{click:function(n){t.$blockchain.loginModal="bsc"}}},[t._m(2),t._v(" "),n("img",{attrs:{src:e(1348),height:"100"}})])])]),t._v(" "),n("div",{staticClass:"columns is-flex-direction-row-reverse is-vcentered mt-1"},[n("div",{staticClass:"column is-4"},[t.$blockchain.waitForSignatureFrom?n("div",{staticClass:"button is-secondary is-fullwidth",class:{"is-loading":t.$blockchain.waitForSignature},on:{click:t.$blockchain.switchBscAccountBeforeLogin}},[t._v("\n          Sign\n        ")]):t.$blockchain.account?n("div",{staticClass:"button is-secondary is-fullwidth",class:{"is-loading":t.loadingLogin||null===t.existingAccount},attrs:{disabled:!t.$blockchain.account||t.loadingLogin||null===t.existingAccount},on:{click:t.login}},[t.existingAccount?n("span",[t._v("Login")]):n("span",[t._v("Register")])]):t._e()]),t._v(" "),n("div",{staticClass:"column is-8"},[t.$blockchain.account?n("a",{staticClass:"is-size-6 has-text-danger-dark",on:{click:function(n){return t.$blockchain.logout()}}},[t._v("switch wallet")]):n("span",[t._v("No wallet? "),n("a",{staticClass:"is-size-6",attrs:{target:"_blank",href:""},on:{click:function(n){n.preventDefault(),t.$blockchain.loginModal="bsc",t.$blockchain.triggerGenerate=!0}}},[t._v("Create a keypair")])])])])])])}),[function(){var t=this._self._c;return t("span",[t("b",[this._v("Private key")])])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"subtitle has-text-weight-semibold mb-2"},[n("small",{staticClass:"is-size-7"},[t._v("connect with ")]),n("br"),t._v("EOS\n          ")])},function(){var t=this,n=t._self._c;return n("div",{staticClass:"subtitle has-text-weight-semibold mb-2"},[n("small",{staticClass:"is-size-7"},[t._v("connect with ")]),n("br"),t._v("BSC\n          ")])}],!1,null,"68102ba6",null);n.default=component.exports}}]);