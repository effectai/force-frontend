(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1218:function(t,e,n){"use strict";n.r(e);var r=n(2),l=(n(29),n(129),{layout:"login",middleware:["auth"],auth:"guest",data:function(){return{error:null}},computed:{bscWallet:function(){return this.$bsc?this.$bsc.wallet:null},eosWallet:function(){return this.$eos?this.$eos.wallet:null}},methods:{login:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var address,n,r,l,o,c,path;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.bscWallet?(address=t.bscWallet[0],n=t.$bsc):t.eosWallet&&(address=t.eosWallet.auth.accountName,n=t.$eos),e.next=4,t.$axios.get("".concat("http://localhost:4123","/user/login/").concat(address));case 4:return r=e.sent,l=r.data,e.next=8,n.sign(l);case 8:return o=e.sent,e.next=11,t.$auth.loginWith("local",{data:{address:address,nonce:l,signature:o}});case 11:c=e.sent,console.log("Logged in!",c),path=t.$auth.$storage.getUniversal("redirect")||"/",t.$auth.$storage.setUniversal("redirect",null),t.$router.push(path),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("ERR",e.t0),e.t0.response&&e.t0.response.data?e.t0.response.data.error?t.error=e.t0.response.data.error:t.error=e.t0.response.data:e.t0.message?t.error=e.t0.message:t.error=e.t0;case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))()}}}),o=n(23),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("div",{staticClass:"container"},[t.bscWallet?n("div",[n("b",[t._v("Selected account")]),t._v(" "),n("a",{staticClass:"blockchain-address",attrs:{href:t.$bsc.explorer+"/address/"+t.bscWallet[0],target:"_blank"}},[t._v(t._s(t.bscWallet[0]))]),t._v(" "),n("div",{staticClass:"has-text-centered"},[n("a",{staticClass:"button is-secondary is-wide",attrs:{disabled:!t.bscWallet},on:{click:t.login}},[t._v("\n          Login\n        ")])]),t._v(" "),n("div",{staticClass:"has-text-centered mt-2"},[n("a",{staticClass:"is-size-6  has-text-danger-dark",on:{click:t.$bsc.logout}},[t._v("switch wallet")])])]):t.eosWallet?n("div",[n("b",[t._v("Selected account")]),t._v(" "),n("a",{staticClass:"blockchain-address",attrs:{href:t.$eos.explorer+"/address/"+t.eosWallet.auth.accountName,target:"_blank"}},[t._v(t._s(t.eosWallet.auth.accountName))]),t._v(" "),n("div",{staticClass:"has-text-centered"},[n("a",{staticClass:"button is-secondary is-wide",attrs:{disabled:!t.eosWallet},on:{click:t.login}},[t._v("\n          Login\n        ")])]),t._v(" "),n("div",{staticClass:"has-text-centered mt-2"},[n("a",{staticClass:"is-size-6  has-text-danger-dark",on:{click:t.$eos.logout}},[t._v("switch wallet")])])]):n("div",[n("button",{staticClass:"button is-primary",on:{click:function(e){t.$bsc.loginModal=!0}}},[t._v("\n        Connect BSC Wallet\n      ")]),t._v(" "),n("button",{staticClass:"button is-primary",on:{click:function(e){t.$eos.loginModal=!0}}},[t._v("\n        Connect EOS Wallet\n      ")])])])])}),[],!1,null,null,null);e.default=component.exports}}]);