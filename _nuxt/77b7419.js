(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1249:function(t,e,n){"use strict";var o=n(17),c=n(6),r=n(12),l=n(97),d=n(598),h=n(597),v=n(14),m=c.RangeError,f=c.String,_=Math.floor,k=r(h),C=r("".slice),w=r(1..toFixed),x=function(t,e,n){return 0===e?n:e%2==1?x(t,e-1,n*t):x(t*t,e/2,n)},S=function(data,t,e){for(var n=-1,o=e;++n<6;)o+=t*data[n],data[n]=o%1e7,o=_(o/1e7)},B=function(data,t){for(var e=6,n=0;--e>=0;)n+=data[e],data[e]=_(n/t),n=n%t*1e7},$=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var e=f(data[t]);s=""===s?e:s+k("0",7-e.length)+e}return s};o({target:"Number",proto:!0,forced:v((function(){return"0.000"!==w(8e-5,3)||"1"!==w(.9,0)||"1.25"!==w(1.255,2)||"1000000000000000128"!==w(0xde0b6b3a7640080,0)}))||!v((function(){w({})}))},{toFixed:function(t){var e,n,o,c,r=d(this),h=l(t),data=[0,0,0,0,0,0],v="",_="0";if(h<0||h>20)throw m("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return f(r);if(r<0&&(v="-",r=-r),r>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(r*x(2,69,1))-69)<0?r*x(2,-e,1):r/x(2,e,1),n*=4503599627370496,(e=52-e)>0){for(S(data,0,n),o=h;o>=7;)S(data,1e7,0),o-=7;for(S(data,x(10,o,1),0),o=e-1;o>=23;)B(data,1<<23),o-=23;B(data,1<<o),S(data,1,1),B(data,2),_=$(data)}else S(data,0,n),S(data,1<<-e,0),_=$(data)+k("0",h);return _=h>0?v+((c=_.length)<=h?"0."+k("0",h-c)+_:C(_,0,c-h)+"."+C(_,c-h)):v+_}})},1270:function(t,e,n){t.exports=n.p+"img/EOS-logo.244ceb6.svg"},1284:function(t,e,n){t.exports=n.p+"img/BSC-logo.187534e.svg"},1522:function(t,e,n){"use strict";n.r(e);var o=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("a",[o("span",{staticClass:"icon is-large"},[o("img",{attrs:{src:n(1270),alt:"EOS"}})]),t._v(" "),o("span",[t._v("EOS")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("a",[o("span",[t._v("BSC")]),t._v(" "),o("span",{staticClass:"icon is-large"},[o("img",{attrs:{src:n(1284),alt:"BSC"}})])])}],c=n(3),r=(n(28),n(1249),n(96),{middleware:["auth"],data:function(){return{loading:!1,account:"eos"===this.$auth.user.blockchain?this.$auth.user.accountName:this.$auth.user.address,submitted:!1,destinationSubmitted:null,message:null,err:!1,tokenAmount:null,memo:null,transactionUrl:null,destinationBlockchain:this.$auth.user.blockchain}},computed:{amount:function(){return null!==this.$blockchain.vefxAvailable?this.$blockchain.vefxAvailable.toFixed(2):-1}},methods:{withdraw:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,o,c,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.err=!1,t.message=null,t.destinationSubmitted=null,n="eos"===t.destinationBlockchain?t.account:"xbsc.ptokens",o=parseFloat(t.tokenAmount).toFixed(4),c="eos"===t.destinationBlockchain?t.memo:t.account,t.destinationSubmitted="eos"===t.destinationBlockchain?"eos":"bsc",e.prev=8,e.next=11,t.$blockchain.withdraw(n,o,c);case 11:if(!(r=e.sent)){e.next=18;break}return e.next=15,t.$blockchain.waitForTransaction(r);case 15:l=e.sent,t.$blockchain.updateUserInfo(),l&&(t.submitted=!0,t.message="Withdrawal successful. Check your transaction here: ",t.transactionUrl="".concat(t.$blockchain.sdk.config.eosExplorerUrl,"/transaction/").concat(r.transaction_id));case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),t.$blockchain.handleError(e.t0);case 23:t.loading=!1;case 24:case"end":return e.stop()}}),e,null,[[8,20]])})))()},clearFields:function(){this.tokenAmount=null,this.account=null},toggleDestination:function(t){this.destinationBlockchain=t,this.account="bsc"===t?"bsc"===this.$auth.user.blockchain?this.$auth.user.address:"":"eos"===this.$auth.user.blockchain?this.$auth.user.accountName:""},validateWithdrawForm:function(t){t.preventDefault(),this.err=!1,this.message=null,this.destinationSubmitted=null,this.account?"eos"===this.destinationBlockchain?this.$blockchain.isEosAccount(this.account)?this.withdraw():(this.message="Invalid EOS Account",this.err=!0):this.$blockchain.isBscAddress(this.account)?this.withdraw():(this.message="Invalid BSC Address",this.err=!0):(this.message="Please fill in a valid EOS account or BSC address",this.err=!0)}}}),l=n(23),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("div",{staticClass:"container is-max-widescreen"},[n("h1",{staticClass:"title mt-5"},[t._v("\n      Withdraw tokens\n    ")]),t._v(" "),n("div",{staticClass:"tabs is-centered is-large"},[n("ul",[n("li",{class:["eos"===t.destinationBlockchain?"is-active":""],on:{click:function(e){return e.preventDefault(),t.toggleDestination("eos")}}},[t._m(0)]),t._v(" "),n("li",[t._v("|")]),t._v(" "),n("li",{class:["bsc"===t.destinationBlockchain?"is-active":""],on:{click:function(e){return e.preventDefault(),t.toggleDestination("bsc")}}},[t._m(1)])])]),t._v(" "),t.err?n("div",{staticClass:"notification is-light is-danger"},[t._v("\n      "+t._s(t.message)+"\n    ")]):t._e(),t._v(" "),t.submitted&&"bsc"===t.destinationSubmitted&&"bsc"===t.destinationBlockchain?n("div",{staticClass:"notification is-light",class:{"is-danger":!0===t.err,"is-success":!1===t.err}},[t._v("\n      "+t._s(t.message)+"\n      "),n("br"),t._v(" "),n("a",{attrs:{target:"_blank",href:t.transactionUrl}},[t._v(t._s(t.transactionUrl))]),t._v(" "),n("br"),t._v("\n      Withdrawing to a BSC address can take a while, thank you for your patience.\n    ")]):t._e(),t._v(" "),t.submitted&&"eos"===t.destinationSubmitted&&"eos"===t.destinationBlockchain?n("div",{staticClass:"notification is-light",class:{"is-danger":!0===t.err,"is-success":!1===t.err}},[t._v("\n      "+t._s(t.message)+"\n      "),n("br"),t._v(" "),n("a",{attrs:{target:"_blank",href:t.transactionUrl}},[t._v(t._s(t.transactionUrl))]),t._v(" "),n("br")]):t._e(),t._v(" "),n("form",{staticClass:"box has-limited-width is-horizontal-centered",attrs:{"accept-charset":"UTF-8"},on:{submit:function(e){return e.preventDefault(),t.validateWithdrawForm.apply(null,arguments)}}},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Destination "+t._s("eos"===t.destinationBlockchain?"EOS":"BSC")+" Account")]),t._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"input",attrs:{type:"text",required:""},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Amount to withdraw")]),t._v(" "),n("div",{staticClass:"field has-addons"},[n("div",{staticClass:"control is-expanded"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tokenAmount,expression:"tokenAmount"}],staticClass:"input",staticStyle:{height:"100%"},attrs:{required:"",type:"number",min:"1",max:t.amount,disabled:-1==t.amount,placeholder:"1.0000",step:"0.0001"},domProps:{value:t.tokenAmount},on:{input:function(e){e.target.composing||(t.tokenAmount=e.target.value)}}})]),t._v(" "),n("p",{staticClass:"control"},[n("span",{staticClass:"button is-primary",attrs:{disabled:-1==t.amount},on:{click:function(e){e.preventDefault(),t.tokenAmount=t.amount}}},[t._v(t._s(t.amount)+" EFX")])])])]),t._v(" "),"eos"===t.destinationBlockchain?n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:""}},[t._v("Memo (optional)")]),t._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.memo,expression:"memo"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.memo},on:{input:function(e){e.target.composing||(t.memo=e.target.value)}}})])]):t._e(),t._v(" "),n("div",{staticClass:"field is-grouped is-grouped-right"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-link is-light",on:{click:function(e){return e.preventDefault(),t.clearFields()}}},[t._v("\n            Clear fields\n          ")])]),t._v(" "),n("div",{staticClass:"control"},[n("button",{staticClass:"button is-link",class:{"is-loading":t.loading},attrs:{disabled:!t.tokenAmount||!t.account,type:"submit"}},[t._v("\n            Withdraw\n          ")])])])])])])}),o,!1,null,"6b95ea92",null);e.default=component.exports}}]);